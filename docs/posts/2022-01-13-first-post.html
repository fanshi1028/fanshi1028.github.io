<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Fanshi1028's Blog - First Post in Hakyll</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/syntax.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../index.html">Fanshi1028's Blog</a>
            </div>
            <nav>
                <a href="../index.html">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>First Post in Hakyll</h1>
            <article>
    <section class="header">
        Posted on January 13, 2022
        
    </section>
    <section>
        <h1 id="preface">Preface</h1>
<dl>
<dt>What</dt>
<dd>this is the first post on this blog
</dd>
<dt>Why</dt>
<dd>obviously for testing purpose.
</dd>
</dl>
<h1 id="test">Test</h1>
<h2 id="here-we-have-a-table">Here we have a table</h2>
<table>
<thead>
<tr class="header">
<th>column1</th>
<th>column2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(1,1)</td>
<td>(1,2)</td>
</tr>
<tr class="even">
<td>(2,1)</td>
<td>(2,2)</td>
</tr>
</tbody>
</table>
<h2 id="some-simple-code-examples-in-some-of-the-languages-that-i-knew">Some simple code examples in some of the languages that I knew</h2>
<h3 id="shell">Shell</h3>
<ul>
<li>Let’s look at some of our tools provided by nix</li>
</ul>
<div class="sourceCode" id="cb1" data-exports="both"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> tsc</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> node</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> python</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> ghc</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> clojure</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> lein</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span> clj-kondo</span></code></pre></div>
<table>
<tbody>
<tr class="odd">
<td>/nix/store/qxgp2m30ld2qacf0c646mih7r1cpak7l-typescript-4.4.4/bin/tsc</td>
</tr>
<tr class="even">
<td>/nix/store/wxhzlb69ngi6ma818q8f0v757wyz09p6-nodejs-14.18.1/bin/node</td>
</tr>
<tr class="odd">
<td>/nix/store/x0fw0l4d6zwgfdwbpp23iwhm3c6a1hh3-python3-3.9.6/bin/python</td>
</tr>
<tr class="even">
<td>/nix/store/2zn9xkgcm81wxca6axad04fzgxwl0z30-ghc-shell-for-packages-ghc-8.10.7-env/bin/ghc</td>
</tr>
<tr class="odd">
<td>/nix/store/jd98jncylhsg4cj9ga9vi9zq0n3yx4z0-clojure-1.10.3.1029/bin/clojure</td>
</tr>
<tr class="even">
<td>/nix/store/ibgkkwg83zv306zhwrgd6wk5pqnwma36-leiningen-2.9.7/bin/lein</td>
</tr>
<tr class="odd">
<td>/nix/store/zi2hj1kfsgp580r139jwh5b4f0vrzcw3-clj-kondo-2021.12.01/bin/clj-kondo</td>
</tr>
</tbody>
</table>
<h3 id="typescript">Typescript</h3>
<ol>
<li><p>Quick Sort</p>
<div class="sourceCode" id="cb2" data-exports="both" data-results="output" data-strict="yes"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">swap</span>(arr<span class="op">:</span> <span class="dt">number</span>[]<span class="op">,</span> i<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> j<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> temp <span class="op">=</span> arr[i]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  arr[i] <span class="op">=</span> arr[j]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  arr[j] <span class="op">=</span> temp</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">partition</span>(arr<span class="op">:</span> <span class="dt">number</span>[]<span class="op">,</span> low<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> high<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> pivot <span class="op">=</span> arr[high]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> i <span class="op">=</span> low<span class="op">,</span> j <span class="op">=</span> low</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (j <span class="op">&lt;=</span> high <span class="op">-</span> <span class="dv">1</span>) {</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (arr[j] <span class="op">&lt;</span> pivot) {</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">swap</span>(arr<span class="op">,</span> i<span class="op">,</span> j)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      i<span class="op">++</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    j<span class="op">++</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">swap</span>(arr<span class="op">,</span> i<span class="op">,</span> high)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> i</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">quick_sort</span>(arr<span class="op">:</span> <span class="dt">number</span>[]) {</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> stacks <span class="op">=</span> [[<span class="dv">0</span><span class="op">,</span> arr<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>]]</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (stacks<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> stack <span class="op">=</span> stacks<span class="op">.</span><span class="fu">pop</span>()</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>stack) <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">&quot;impossible&quot;</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> [start<span class="op">,</span> end] <span class="op">=</span> stack</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (start <span class="op">&lt;</span> end) {</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> p <span class="op">=</span> <span class="fu">partition</span>(arr<span class="op">,</span> start<span class="op">,</span> end)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>          stacks<span class="op">.</span><span class="fu">push</span>([start<span class="op">,</span> p <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>          stacks<span class="op">.</span><span class="fu">push</span>([p <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> end])</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> arr</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">quick_sort</span>([<span class="dv">0</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">4</span><span class="op">,-</span><span class="dv">100</span><span class="op">,</span><span class="fl">0.4</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">5</span><span class="op">,</span><span class="dv">8</span>]))</span></code></pre></div>
<pre class="example"><code>[
  -100, 0, 0.4, 2,
     3, 4,   5, 8
]
</code></pre></li>
<li><p>Merge Sort</p>
<div class="sourceCode" id="cb4" data-exports="both" data-results="output" data-strict="yes"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">merge</span>(arr1<span class="op">:</span> <span class="dt">number</span>[]<span class="op">,</span> arr2<span class="op">:</span> <span class="dt">number</span>[]) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result<span class="op">:</span> <span class="dt">number</span>[] <span class="op">=</span> []</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> idx1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> idx2 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> (idx1 <span class="op">&lt;</span> arr1<span class="op">.</span><span class="at">length</span> <span class="op">&amp;&amp;</span> idx2 <span class="op">&lt;</span> arr2<span class="op">.</span><span class="at">length</span>) {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (arr1[idx1] <span class="op">&lt;=</span> arr2[idx2]) {</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>           result<span class="op">.</span><span class="fu">push</span>(arr1[idx1])</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>           idx1<span class="op">++</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>           result<span class="op">.</span><span class="fu">push</span>(arr2[idx2])</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>           idx2<span class="op">++</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result<span class="op">.</span><span class="fu">concat</span>(idx1 <span class="op">&lt;</span> arr1<span class="op">.</span><span class="at">length</span> <span class="op">?</span> arr1<span class="op">.</span><span class="fu">slice</span>(idx1) <span class="op">:</span> arr2<span class="op">.</span><span class="fu">slice</span>(idx2))</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">mergeSort</span>(arr<span class="op">:</span> <span class="dt">number</span>[])<span class="op">:</span> <span class="dt">number</span>[]{</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (arr<span class="op">.</span><span class="at">length</span> <span class="op">&lt;=</span> <span class="dv">1</span>) <span class="cf">return</span> arr</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> mid <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(arr<span class="op">.</span><span class="at">length</span><span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fu">merge</span>(<span class="fu">mergeSort</span>(arr<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span>mid))<span class="op">,</span> <span class="fu">mergeSort</span>(arr<span class="op">.</span><span class="fu">slice</span>(mid<span class="op">,</span> arr<span class="op">.</span><span class="at">length</span>)))</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">mergeSort</span>([<span class="dv">0</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">4</span><span class="op">,-</span><span class="dv">100</span><span class="op">,</span><span class="fl">0.4</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">5</span><span class="op">,</span><span class="dv">8</span>]))</span></code></pre></div>
<pre class="example"><code>[
  -100, 0, 0.4, 2,
     3, 4,   5, 8
]
</code></pre></li>
</ol>
<h3 id="python">Python</h3>
<ol>
<li><p>Quick Sort</p>
<div class="sourceCode" id="cb6" data-results="output" data-exports="both"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> swap(arr: <span class="bu">list</span>, i: <span class="bu">int</span>, j: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> arr[i]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    arr[i] <span class="op">=</span> arr[j]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    arr[j] <span class="op">=</span> temp</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> partition(arr: <span class="bu">list</span>, low: <span class="bu">int</span>, high: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    i, j, pivot <span class="op">=</span> low, low, arr[high]</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> j <span class="op">&lt;</span> high:</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> arr[j] <span class="op">&lt;=</span> pivot:</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>            swap(arr, i, j)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>            i <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        j <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    swap(arr, i, high)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> i</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> quick_sort(arr: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    stacks <span class="op">=</span> [[<span class="dv">0</span>, <span class="bu">len</span>(arr) <span class="op">-</span> <span class="dv">1</span>]]</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="bu">len</span>(stacks) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        start, end <span class="op">=</span> stacks.pop()</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> start <span class="op">&lt;</span> end:</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>            p <span class="op">=</span> partition(arr, start, end)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>            stacks.append([start, p <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>            stacks.append([p <span class="op">+</span> <span class="dv">1</span>, end])</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(quick_sort([<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="op">-</span><span class="dv">100</span>, <span class="fl">0.4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>]))</span></code></pre></div>
<pre class="example"><code>[-100, 0, 0.4, 2, 3, 4, 5, 8]
</code></pre></li>
<li><p>Merge Sort</p>
<div class="sourceCode" id="cb8" data-results="output" data-exports="both"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merge(arr1: <span class="bu">list</span>, arr2: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    result, idx1, idx2 <span class="op">=</span> [], <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> idx1 <span class="op">&lt;</span> <span class="bu">len</span>(arr1) <span class="kw">and</span> idx2 <span class="op">&lt;</span> <span class="bu">len</span>(arr2):</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (arr1[idx1] <span class="op">&lt;=</span> arr2[idx2]):</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>           result.append(arr1[idx1])</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>           idx1 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>           result.append(arr2[idx2])</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>           idx2 <span class="op">+=</span>  <span class="dv">1</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> idx1 <span class="op">&lt;</span> <span class="bu">len</span>(arr1):</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        result.extend(arr1[idx1:])</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        result.extend(arr2[idx2:])</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mergeSort(arr: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (l :<span class="op">=</span> <span class="bu">len</span>(arr)) <span class="op">&lt;=</span> <span class="dv">1</span>:</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> arr</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        mid <span class="op">=</span> math.floor(l<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> merge(mergeSort(arr[<span class="dv">0</span>:mid]), mergeSort(arr[mid:l]))</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mergeSort([<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="op">-</span><span class="dv">100</span>,<span class="fl">0.4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>]))</span></code></pre></div>
<pre class="example"><code>[-100, 0, 0.4, 2, 3, 4, 5, 8]
</code></pre></li>
</ol>
<h3 id="haskell">Haskell</h3>
<ol>
<li><p>Quick Sort</p>
<ul>
<li>beatiful but not the same as original as it is not in-place</li>
</ul>
<div class="sourceCode" id="cb10" data-exports="both" data-compile="yes" data-results="output" data-flags="-O2 -j4 +RTS -A64m -n2m -RTS -threaded"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE DerivingStrategies #-}</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE ScopedTypeVariables #-}</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE TypeApplications #-}</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Control.DeepSeq</span> (<span class="dt">NFData</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Control.Monad.IO.Class</span> (<span class="dt">MonadIO</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Criterion.Main</span> (bench, bgroup, defaultMain, nf)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Data.List</span> (unfoldr)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">System.Random</span> (<span class="dt">UniformRange</span>, initStdGen, uniformR)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="kw">newtype</span> <span class="dt">Sorted</span> a <span class="ot">=</span> <span class="dt">Sorted</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  {<span class="ot"> getSorted ::</span> [a]</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">deriving</span> (<span class="dt">Show</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">deriving</span> <span class="kw">newtype</span> (<span class="dt">Semigroup</span>, <span class="dt">Monoid</span>, <span class="dt">Functor</span>, <span class="dt">Applicative</span>, <span class="dt">NFData</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="ot">partition ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> ([a], [a])</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>partition _ [] <span class="ot">=</span> ([], [])</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>partition x [y] <span class="ot">=</span> <span class="kw">if</span> x <span class="op">&lt;</span> y <span class="kw">then</span> ([], [y]) <span class="kw">else</span> ([y], [])</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>partition x (y <span class="op">:</span> ys) <span class="ot">=</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> (l, r) <span class="ot">=</span> partition x ys</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>   <span class="kw">in</span> <span class="kw">if</span> x <span class="op">&lt;</span> y <span class="kw">then</span> (l, y <span class="op">:</span> r) <span class="kw">else</span> (y <span class="op">:</span> l, r)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="ot">quickSort ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">Sorted</span> a</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>quickSort [] <span class="ot">=</span> <span class="fu">mempty</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>quickSort (x <span class="op">:</span> xs) <span class="ot">=</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> (l, r) <span class="ot">=</span> partition x xs</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>   <span class="kw">in</span> quickSort l <span class="op">&lt;&gt;</span> <span class="fu">pure</span> x <span class="op">&lt;&gt;</span> quickSort r</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="ot">genArr ::</span> (<span class="dt">UniformRange</span> a, <span class="dt">Num</span> a, <span class="dt">MonadIO</span> f) <span class="ot">=&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> f [a]</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>genArr n <span class="ot">=</span> <span class="fu">take</span> n <span class="op">.</span> unfoldr (<span class="dt">Just</span> <span class="op">.</span> uniformR (<span class="dv">0</span>, <span class="fu">fromIntegral</span> n)) <span class="op">&lt;$&gt;</span> initStdGen</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a><span class="ot">genArr' ::</span> (<span class="dt">UniformRange</span> a, <span class="dt">Num</span> a, <span class="dt">MonadIO</span> f) <span class="ot">=&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> f [a]</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>genArr' deg <span class="ot">=</span> genArr <span class="op">$</span> <span class="dv">10</span> <span class="op">^</span> deg</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> <span class="op">$</span> quickSort [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="op">-</span><span class="dv">100</span>, <span class="fl">0.4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>]</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>  arrs <span class="ot">&lt;-</span> <span class="fu">sequenceA</span> <span class="op">$</span> genArr' <span class="op">@</span><span class="dt">Double</span> <span class="op">&lt;$&gt;</span> [<span class="dv">1</span> <span class="op">..</span> <span class="dv">5</span>]</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> bench' n arr <span class="ot">=</span> bench (<span class="fu">show</span> n) <span class="op">$</span> nf quickSort arr</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  defaultMain</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>    [bgroup <span class="st">&quot;quickSort&quot;</span> <span class="op">$</span> <span class="fu">zipWith</span> bench' [<span class="dv">1</span> <span class="op">..</span> <span class="dv">5</span>] arrs]</span></code></pre></div>
<pre class="example"><code>Sorted {getSorted = [-100.0,0.0,0.4,2.0,3.0,4.0,5.0,8.0]}
benchmarking quickSort/1
time                 725.0 ns   (709.5 ns .. 740.6 ns)
                     0.997 R²   (0.997 R² .. 0.999 R²)
mean                 726.4 ns   (715.7 ns .. 736.6 ns)
std dev              36.97 ns   (31.82 ns .. 43.93 ns)
variance introduced by outliers: 68% (severely inflated)

benchmarking quickSort/2
time                 26.62 μs   (26.45 μs .. 26.78 μs)
                     1.000 R²   (0.999 R² .. 1.000 R²)
mean                 26.44 μs   (26.26 μs .. 26.65 μs)
std dev              647.6 ns   (514.5 ns .. 841.3 ns)
variance introduced by outliers: 24% (moderately inflated)

benchmarking quickSort/3
time                 437.8 μs   (434.8 μs .. 441.9 μs)
                     0.999 R²   (0.999 R² .. 1.000 R²)
mean                 440.3 μs   (437.3 μs .. 445.4 μs)
std dev              12.07 μs   (7.418 μs .. 19.13 μs)
variance introduced by outliers: 20% (moderately inflated)

benchmarking quickSort/4
time                 12.15 ms   (11.86 ms .. 12.54 ms)
                     0.997 R²   (0.995 R² .. 1.000 R²)
mean                 12.04 ms   (11.95 ms .. 12.16 ms)
std dev              282.3 μs   (202.8 μs .. 413.6 μs)

benchmarking quickSort/5
time                 188.9 ms   (185.2 ms .. 192.1 ms)
                     1.000 R²   (0.999 R² .. 1.000 R²)
mean                 191.6 ms   (189.9 ms .. 193.7 ms)
std dev              2.713 ms   (1.737 ms .. 4.176 ms)
variance introduced by outliers: 14% (moderately inflated)
</code></pre></li>
<li><p>Merge Sort</p>
<div class="sourceCode" id="cb12" data-exports="both" data-compile="yes" data-results="output" data-flags="-O2 -j4 +RTS -A64m -n2m -RTS -threaded"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE DerivingStrategies #-}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE ScopedTypeVariables #-}</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE TypeApplications #-}</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Control.DeepSeq</span> (<span class="dt">NFData</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Control.Monad.IO.Class</span> (<span class="dt">MonadIO</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Criterion.Main</span> (bench, bgroup, defaultMain, nf)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Data.Function</span> (on)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Data.List</span> (unfoldr)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">System.Random</span> (<span class="dt">UniformRange</span>, initStdGen, uniformR)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="kw">newtype</span> <span class="dt">Sorted</span> a <span class="ot">=</span> <span class="dt">Sorted</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  {<span class="ot"> getSorted ::</span> [a]</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">deriving</span> (<span class="dt">Show</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">deriving</span> <span class="kw">newtype</span> (<span class="dt">Monoid</span>, <span class="dt">Functor</span>, <span class="dt">Applicative</span>, <span class="dt">NFData</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="ot">merge ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> <span class="dt">Sorted</span> a <span class="ot">-&gt;</span> <span class="dt">Sorted</span> a <span class="ot">-&gt;</span> <span class="dt">Sorted</span> a</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>merge (<span class="dt">Sorted</span> as) (<span class="dt">Sorted</span> bs) <span class="ot">=</span> <span class="dt">Sorted</span> <span class="op">$</span> go as bs</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    go [] ys <span class="ot">=</span> ys</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    go xs [] <span class="ot">=</span> xs</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    go (x <span class="op">:</span> xs) (y <span class="op">:</span> ys)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>      <span class="op">|</span> x <span class="op">&gt;=</span> y <span class="ot">=</span> y <span class="op">:</span> go (x <span class="op">:</span> xs) ys</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>      <span class="op">|</span> <span class="fu">otherwise</span> <span class="ot">=</span> x <span class="op">:</span> go xs (y <span class="op">:</span> ys)</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="kw">instance</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> <span class="dt">Semigroup</span> (<span class="dt">Sorted</span> a) <span class="kw">where</span> (<span class="op">&lt;&gt;</span>) <span class="ot">=</span> merge</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="ot">mergeSort ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">Sorted</span> a</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>mergeSort <span class="ot">=</span> go</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    go [] <span class="ot">=</span> <span class="fu">mempty</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    go [a] <span class="ot">=</span> <span class="fu">pure</span> a</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    go ls <span class="ot">=</span> <span class="kw">let</span> (xs, ys) <span class="ot">=</span> <span class="fu">splitAt</span> (<span class="fu">length</span> ls <span class="ot">`div`</span> <span class="dv">2</span>) ls <span class="kw">in</span> ((<span class="op">&lt;&gt;</span>) <span class="ot">`on`</span> go) xs ys</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="ot">genArr ::</span> (<span class="dt">UniformRange</span> a, <span class="dt">Num</span> a, <span class="dt">MonadIO</span> f) <span class="ot">=&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> f [a]</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>genArr n <span class="ot">=</span> <span class="fu">take</span> n <span class="op">.</span> unfoldr (<span class="dt">Just</span> <span class="op">.</span> uniformR (<span class="dv">0</span>, <span class="fu">fromIntegral</span> n)) <span class="op">&lt;$&gt;</span> initStdGen</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="ot">genArr' ::</span> (<span class="dt">UniformRange</span> a, <span class="dt">Num</span> a, <span class="dt">MonadIO</span> f) <span class="ot">=&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> f [a]</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>genArr' deg <span class="ot">=</span> genArr <span class="op">$</span> <span class="dv">10</span> <span class="op">^</span> deg</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> <span class="op">$</span> mergeSort [<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="op">-</span><span class="dv">100</span>, <span class="fl">0.4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>]</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>  arrs <span class="ot">&lt;-</span> <span class="fu">sequenceA</span> <span class="op">$</span> genArr' <span class="op">@</span><span class="dt">Double</span> <span class="op">&lt;$&gt;</span> [<span class="dv">1</span> <span class="op">..</span> <span class="dv">5</span>]</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> bench' n arr <span class="ot">=</span> bench (<span class="fu">show</span> n) <span class="op">$</span> nf mergeSort arr</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  defaultMain</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    [bgroup <span class="st">&quot;mergeSort&quot;</span> <span class="op">$</span> <span class="fu">zipWith</span> bench' [<span class="dv">1</span> <span class="op">..</span> <span class="dv">5</span>] arrs]</span></code></pre></div>
<pre class="example"><code>Sorted {getSorted = [-100.0,0.0,0.4,2.0,3.0,4.0,5.0,8.0]}
benchmarking mergeSort/1
time                 380.2 ns   (379.4 ns .. 381.1 ns)
                     1.000 R²   (1.000 R² .. 1.000 R²)
mean                 380.1 ns   (379.1 ns .. 383.1 ns)
std dev              5.261 ns   (2.574 ns .. 9.746 ns)
variance introduced by outliers: 14% (moderately inflated)

benchmarking mergeSort/2
time                 14.02 μs   (14.00 μs .. 14.05 μs)
                     1.000 R²   (1.000 R² .. 1.000 R²)
mean                 14.02 μs   (14.01 μs .. 14.04 μs)
std dev              54.64 ns   (44.54 ns .. 72.24 ns)

benchmarking mergeSort/3
time                 305.8 μs   (305.3 μs .. 306.2 μs)
                     1.000 R²   (1.000 R² .. 1.000 R²)
mean                 305.1 μs   (304.8 μs .. 305.6 μs)
std dev              1.217 μs   (969.6 ns .. 1.695 μs)

benchmarking mergeSort/4
time                 8.917 ms   (8.860 ms .. 9.007 ms)
                     1.000 R²   (0.999 R² .. 1.000 R²)
mean                 8.955 ms   (8.926 ms .. 8.989 ms)
std dev              86.24 μs   (75.01 μs .. 105.3 μs)

benchmarking mergeSort/5
time                 167.7 ms   (165.8 ms .. 169.3 ms)
                     1.000 R²   (1.000 R² .. 1.000 R²)
mean                 167.0 ms   (166.1 ms .. 168.0 ms)
std dev              1.363 ms   (996.1 μs .. 1.864 ms)
variance introduced by outliers: 12% (moderately inflated)
</code></pre></li>
</ol>
<h3 id="clojure">Clojure</h3>
<ol>
<li><p>Quick Sort</p>
<div class="sourceCode" id="cb14" data-results="value" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> my-swap! </span>[arr i j]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> [temp (<span class="kw">nth</span> arr i)]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">-&gt;</span> arr (<span class="kw">assoc!</span> i (<span class="kw">nth</span> arr j) j temp))))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> my-partition! </span>[arr start end]</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> [i start j start]</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">cond</span> (<span class="kw">&gt;=</span> j end) (<span class="kw">and</span> (my-swap! arr i end) i)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">&lt;</span> (<span class="kw">nth</span> arr j) (<span class="kw">nth</span> arr end)) (<span class="kw">and</span> (my-swap! arr i j) (<span class="kw">recur</span> (<span class="kw">inc</span> i) (<span class="kw">inc</span> j)))</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">:else</span> (<span class="kw">recur</span> i (<span class="kw">inc</span> j)))))</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> quick-sort </span>[arr]</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> [xs (<span class="kw">transient</span> arr)]</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">loop</span> [stacks (<span class="kw">transient</span> [{<span class="at">:start</span> <span class="dv">0</span> <span class="at">:end</span> (<span class="kw">-&gt;</span> arr <span class="kw">count</span> <span class="kw">dec</span>)}])]</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">if</span> (<span class="kw">-&gt;</span> stacks <span class="kw">count</span> (<span class="kw">=</span> <span class="dv">0</span>)) (<span class="kw">persistent!</span> xs)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">let</span> [{<span class="at">:keys</span> [ start end ]} (<span class="kw">nth</span> stacks (<span class="kw">-&gt;</span> stacks <span class="kw">count</span> <span class="kw">dec</span>))]</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>            (<span class="kw">if</span> (<span class="kw">&gt;=</span> start end)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>              (<span class="kw">recur</span> (<span class="kw">pop!</span> stacks))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>              (<span class="kw">let</span> [i (my-partition! xs start end)]</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                (<span class="kw">recur</span> (<span class="kw">-&gt;</span> stacks <span class="kw">pop!</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>                           (<span class="kw">conj!</span> {<span class="at">:start</span> start <span class="at">:end</span> (<span class="kw">dec</span> i)})</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>                           (<span class="kw">conj!</span> {<span class="at">:start</span> (<span class="kw">inc</span> i) <span class="at">:end</span> end}))))))))))</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>(quick-sort [<span class="dv">0</span> <span class="dv">2</span> <span class="dv">4</span> -<span class="dv">100</span> <span class="fl">0.4</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">8</span>])</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> time-quick-sort</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  ([arr] (time-quick-sort arr <span class="st">&quot;.tmp-print-output&quot;</span>))</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  ([arr fp] (<span class="kw">binding</span> [<span class="va">*out*</span> (clojure.java.io/writer fp)]</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>              (<span class="kw">-&gt;</span> arr quick-sort <span class="kw">time</span>) (<span class="kw">slurp</span> fp))))</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> #(<span class="kw">rand-int</span> <span class="fl">1e3</span>) <span class="kw">repeatedly</span> (<span class="kw">take</span> <span class="fl">1e3</span>) (<span class="kw">into</span> []) time-quick-sort)</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="co">;; Let's attack the quick sort</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> <span class="fl">1e3</span> <span class="kw">range</span> (<span class="kw">into</span> []) time-quick-sort)</span></code></pre></div>
<table>
<tbody>
<tr class="odd">
<td>#’user/my-swap!</td>
</tr>
<tr class="even">
<td>#’user/my-partition!</td>
</tr>
<tr class="odd">
<td>#’user/quick-sort</td>
</tr>
<tr class="even">
<td>[-100 0 0.4 2 3 4 5 8]</td>
</tr>
<tr class="odd">
<td>#’user/time-quick-sort</td>
</tr>
<tr class="even">
<td>“\”Elapsed time: 6.960381 msecs\“”</td>
</tr>
<tr class="odd">
<td>“\”Elapsed time: 107.994205 msecs\“”</td>
</tr>
</tbody>
</table></li>
<li><p>Merge Sort</p>
<div class="sourceCode" id="cb15" data-results="value" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> my-merge</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  ([xs ys] (my-merge xs ys (<span class="kw">transient</span> [])))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  ([xs ys r]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>   (<span class="kw">cond</span> (<span class="kw">empty?</span> xs) (<span class="kw">-&gt;</span> r <span class="kw">persistent!</span> (<span class="kw">into</span> ys))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>         (<span class="kw">empty?</span> ys) (<span class="kw">-&gt;</span> r <span class="kw">persistent!</span> (<span class="kw">into</span> xs))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">:else</span> (<span class="kw">let</span> [[x &amp; xx] xs</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                     [y &amp; yy] ys]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                 (<span class="kw">if</span> (<span class="kw">&lt;</span> x y)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                   (<span class="kw">recur</span> xx ys (<span class="kw">conj!</span> r x))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>                   (<span class="kw">recur</span> xs yy (<span class="kw">conj!</span> r y)))))))</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> merge-sort </span>[arr]</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> [l (<span class="kw">count</span> arr)]</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">&lt;=</span> l <span class="dv">1</span>) arr</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">let</span> [[l r] (<span class="kw">-&gt;&gt;</span> arr (<span class="kw">split-at</span> (<span class="kw">quot</span> l <span class="dv">2</span>)))]</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>          (my-merge (merge-sort l) (merge-sort r))))))</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>(merge-sort [<span class="dv">0</span> <span class="dv">2</span> <span class="dv">4</span> -<span class="dv">100</span> <span class="fl">0.4</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">8</span>])</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> time-merge-sort</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  ([arr] (time-merge-sort arr <span class="st">&quot;.tmp-print-output&quot;</span>))</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  ([arr fp] (<span class="kw">binding</span> [<span class="va">*out*</span> (clojure.java.io/writer fp)]</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>              (<span class="kw">-&gt;</span> arr merge-sort <span class="kw">time</span>) (<span class="kw">slurp</span> fp))))</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> #(<span class="kw">rand-int</span> <span class="fl">1e3</span>) <span class="kw">repeatedly</span> (<span class="kw">take</span> <span class="fl">1e3</span>) (<span class="kw">into</span> []) time-merge-sort)</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> <span class="fl">1e3</span> <span class="kw">range</span> (<span class="kw">into</span> []) time-merge-sort)</span></code></pre></div>
<table>
<tbody>
<tr class="odd">
<td>#’user/my-merge</td>
</tr>
<tr class="even">
<td>#’user/merge-sort</td>
</tr>
<tr class="odd">
<td>[-100 0 0.4 2 3 4 5 8]</td>
</tr>
<tr class="even">
<td>#’user/time-merge-sort</td>
</tr>
<tr class="odd">
<td>“\”Elapsed time: 14.03002 msecs\“”</td>
</tr>
<tr class="even">
<td>“\”Elapsed time: 5.991597 msecs\“”</td>
</tr>
</tbody>
</table></li>
</ol>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
